# privateRegistry.md

큰 조직에서 일하게 될때면 작은 과제도 여러 모듈로 전문성있게 나눠 작업할때가 많다.

서버 - 클라이언트는 물론 우리회사는 dba, backend-server, front-server, front end client, publishing, ui 등등 
풀스택 개발자 한명이 다 할수도 있는 일을 보다 전문성을 살리고 분업화하여 최고효율을 낼수 있도록..

하지만 여기저기서 줄줄 세는 비효율에 개발속도도 그렇게 빠르지 않으면서 매일 야근이 반복된다.
앱을 최종 배포하는 개발팀에는 정말 비효율 천지이다.

메인인 개발 업무 이외의 이미지, 다국어문구, 퍼블리싱, 각종 셋팅 등등 여기저기서 나온 산출물을
잘 통합하여 빠진것은 없는지 확인 한 후 최종 확인한다.
당연히 문제는 많은 곳에서 발생하고 리포팅을 해주어야 한다.

살펴보다.
UI팀에서 이미지를 업데이트 해줬다.
zip으로 압축해서 메일로 보냈다. 코드에 적용시키려면?

1. 메일페이지에 접속
2. 메일 찾기
3. 첨부파일 zip 다운로드
4. zip파일 찾기위해 폴더이동
5. 압축해제
6. 해제한 파일을 프로젝트 디렉토리에 복사
7. 확인
8. 휴먼오류발생. 압축파일이 옛날꺼임.
9. 빠진 파일 재요청 메일 작성 등
10 메일 찾기
11. 첨부파일 zip 다운로드
12. zip파일 찾기위해 폴더이동
13. 압축해제
14. 해제한 파일을 프로젝트 디렉토리에 복사
15. 확인
16. 휴먼오류발생. 파일이름이 틀려서 로드를 못함
17. 파일이름 고침
18. 메일로 파일이름 틀렸다는것을 알려줌
19. 확인
20. svn 에 커밋

위 과정이 뭐가 어때서? 라고 생각한다면,
강요할 생각은 없다 그냥 평생 그렇게 하던데로 하면된다ㅎㅎ

내가 이상적인 방법은 이렇다.

1. npm i uiAsset
참고로 i 는 install 의 alias이고 npm은 오른손 두번째 세번째 손가락으로 타이핑을 쉽게 할수 있다.
실제로 네이밍을 할때 오른손잡이를 고려했다나 뭐라나 ㅎㅎ
암튼 2초정도에 걸려서 저 한줄을 치면 모든 어셋들을 node_modules/uiAsset 디렉토리에 업데이트 한다.
압축을 하지 않으므로 8번 오류는 발생하지 않는다.
파일이 빠졌다고 하자.
2. 파일빠졌다고 메일
3. npm i uiAsset
4. npm publish
5. svn 커밋

npm publish를 잘 살펴보자.
중앙코드에서 다른 모듈들을 npm i 로 내려받는 것이 아니라 자기자신 자체도 하나의 모듈로 publish 해버린다.
이말은 uiAsset 부서에서 asset 업데이트를 한 후 

assetDir$ npm publish 
main$ npm i mainCode --production

이런식으로 자신들의 assetDir을 스스로 검증할 수 있는 환경을 겨우 타이핑 1줄로 제공해주는 것이다.
물론 mainCode 내에 asset들을 검증할 수 있는 환경은 구축되어 있어야한다.

자 그렇다면 위의 2. 파일 빠지는 실수도 잘 빨생하지 않을 것이다.
메일로 업데이트를 알려주기 전 검증을 한다면 거기서 발견되고 고친 후 업데이트를 알려줄 테니

대략 피곤한 20 가지 일이 간단한 3가지 명령어로 줄어들었다. 

비효율을 없애기 위해 이상적인 방법을 고민해보았다.
영감은 npm

npm install 모듈명
이 한줄 타이핑에 쉽게 해당 모듈과 그 모듈이 디펜던시를 가지고 있는 하위 모듈들을 재귀적으로 설치해준다.
npm update
이 한줄에 모든 모듈들을 업데이트 시킨다.
npm publish
내가 만든 모듈을 배포한다.

과제를 할때에도
npm install frontendView
타이핑 한번에 퍼블리싱 산출물들이 모두 적용이 되고 npm update 한방에 업데이트할수 있다면!?

npm i stms
npm i frontendView
npm i imageAsset

이 세줄 타이핑에 3개의 부서의 산출물을 실제 코드에 적용시킬수 있다면?

